"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[7574],{67574:(e,t,r)=>{r.d(t,{f:()=>j});var l=r(52322),n=r(26642),o=r(18530),i=r(72510),a=r(12373),u=r(5914),s=r(46953),z=r(48213),h=r(17848),c=r(70769),G=r(33551),f=r(18811),b=r(79197),g=r(85922),d=r(80134);let I=e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{let l=(0,z.zG)(e,d.UI(e=>{let[t,r,l,n]=e;return{shouldDisableInfiniteScroll:t,fetchDataParams:r,intersectionObserverRoot:l,intersectionObserverRootMarginBottom:n}})),n=(0,z.zG)(l,d.DZ(e=>{let{intersectionObserverRoot:t}=e;return t}),d.xb()),o=(0,z.zG)(l,d.UI(e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3}),d.xb()),i=(0,z.zG)(l,d.UI(e=>{let{fetchDataParams:t}=e;return t.page}),d.xb()),a=(0,z.zG)(d.aj([r,n,o,i]),d.wt(e=>{let[t,r,l]=e;return(0,z.zG)(t,s.g_((0,z.a9)(d.E_),e=>(0,z.zG)(d.bH(e,{...void 0!==r?{root:r}:null,rootMargin:(0,b.Ae)({top:G.ZI,right:G.ZI,bottom:G.Ei(l),left:G.ZI})}),d.hX(b.Yu))))})),u=(0,z.zG)(l,d.UI(e=>e.shouldDisableInfiniteScroll),d.xb());return(0,z.zG)(l,d.UP(d.TS((0,z.zG)(d.aj([a,u]),d.hX(e=>{let[t,r]=e;return!1===r})),t)))}},m=e=>t=>{let r=(0,z.zG)(t,d.UI(e=>{let[t,r,l]=e;return{hasFetchedAllPages:t,fetchDataParams:r,fetchDataAndBuildActions:l}})),l=(0,z.zG)(r,d.UP(e),d.EB(e=>{let{fetchDataParams:t}=e;return t.page}),d.oE(e=>{let{hasFetchedAllPages:t}=e;return!1===t}));return(0,z.zG)(l,d.Mm(r,(e,t)=>t),d.zg(e=>{let{fetchDataParams:t,fetchDataAndBuildActions:r}=e;return(0,z.zG)(r(t),g.XD(3))}))},p=e=>{let t=m((0,c.m)(I({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),r=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],l=(0,c.m)(t,r);(0,f.Rd)(l)},x=e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)},D=e=>{let{lastPageFetched:t,perPage:r,total:l}=e;return t>=x({total:l,perPage:r})},U=e=>{let{lastPageFetched:t,perPage:r,orderBy:l}=e;return{page:t+1,perPage:r,...void 0!==l?{orderBy:l}:null}},Z=e=>{let{feedState:t,feedItems:r,renderItems:a,getScrollFooterEl:s,...c}=e,[G,f]=(0,n.m)(e=>(0,z.zG)(e,u.DZ)),b=o.Yen(()=>U(t),[t]),g=o.Yen(()=>D(t),[t]);return p({fetchDataParams:b,hasFetchedAllPages:g,footerRefOption$:f,...c}),(0,l.jsxs)(o.ZCY,{children:[a({items:r,hasFetchedAllPages:g,total:t.total}),(0,l.jsx)(o.ZCY,{ref:G,...(0,h.Nn)(i.gZ)}),!1===g&&s()]})},j=e=>{let{feedStateOption:t,feedItemsOption:r,getNoContentEl:n,getPlaceholderEl:i,...u}=e;return(0,l.jsx)(o.PRT,{children:(0,z.zG)(s.gz(t,r),s.UI(e=>{let[t,r]=e;return(0,z.zG)(r,a.nI,s.g_(n,e=>(0,l.jsx)(Z,{feedState:t,feedItems:e,...u})))}),s.HV(i))})}}}]);