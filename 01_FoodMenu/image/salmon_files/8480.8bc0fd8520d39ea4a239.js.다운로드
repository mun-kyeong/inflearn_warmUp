"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[8480],{42673:(e,t,l)=>{l.d(t,{L:()=>s});var n=l(18530),i=l(46953);let s=n.kr9(i.YP)},48480:(e,t,l)=>{l.d(t,{q:()=>D,Z:()=>T});var n={};l.r(n),l.d(n,{load_more_button_label:()=>q});var i=l(52322),s=l(36631),r=l(44714),o=l(59692),a=l(75654),c=l(70619),d=l(67574),h=l(39286),u=l(91742),p=l(2231),I=l(23826),f=l(84772),g=l(75402),S=l(23709),m=l(35734),x=l(18530),O=l(17306),b=l(95889),j=l(62769),P=l(85922),C=l(46953),Z=l(90211),N=l(72959),R=l(48213),v=l(19030),A=l(42673),k=l(19282);l(76706),l(83347),l(26054);let q=()=>"Load more",E=(0,k.G)(e=>n);function y(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}let D=()=>{let e=(0,i.jsx)(x.ZCY,{className:"ATnvl",children:(0,R.zG)(O.w6H(0,17),O.UID(e=>(0,i.jsx)(x.ZCY,{className:"dycl5",children:(0,i.jsx)(x.ZCY,{className:"PwSsU O84oE"})},e)))});return(0,i.jsxs)(x.PRT,{children:[(0,i.jsx)(x.ZCY,{className:S.yC,children:e}),(0,i.jsx)(h.Z,{className:S.ny,children:e})]})},G=(0,v.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:b.HP(()=>(0,i.jsx)(c.Z,{type:"photos"})),getPlaceholderEl:b.HP(()=>(0,i.jsx)(D,{}))}),_=Z.Ue();class z extends x.wA2{UNSAFE_componentWillReceiveProps(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){let t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}render(){let{photoFeedOption:e,photosOption:t,children:l,getNoContentEl:n,getPlaceholderEl:s,renderBeneathLoadMoreButton:r,feedId:o,fetchPhotos:a,notifier$:c,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:I,t:f}=this.props,{infiniteScrollSetting:g}=this.state,S=(0,R.zG)(g,_.match({OptInRequired:e=>{let{optedIn:t}=e;return t},Enabled:()=>!0}));return(0,i.jsx)(A.L.Provider,{value:this.createPhotoFeedIdContextValue(o),children:(0,i.jsx)(d.f,{renderItems:l,feedItemsOption:t,feedStateOption:e,getScrollFooterEl:()=>(0,i.jsx)(x.ZCY,{className:"rx4AP",children:(0,R.zG)(S,N.EQ({True:()=>(0,i.jsx)(u.Z,{}),False:()=>(0,i.jsxs)(x.PRT,{children:[(0,i.jsx)(h.Z,{className:"gDCZZ",children:(0,i.jsx)(x.zxk,{className:x.Shc((0,m.yO)({type:m.L$.Outline}),"WMIal KHq0c"),onClick:this.toggleInfiniteScrollOptIn,type:"button",children:f.load_more_button_label()})}),r?.()]})}))}),getNoContentEl:n,getPlaceholderEl:s,shouldDisableInfiniteScroll:!1===S,fetchDataAndBuildActions:this.fetchDataAndBuildActions(a),notifier$:c,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:I},(0,j.Vv)(o))})}constructor(...e){super(...e),y(this,"getInfiniteScrollSetting",e=>{let{shouldRequireInfiniteScrollOptIn:t}=e;return t?_.mk.OptInRequired({optedIn:!1}):_.mk.Enabled}),y(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),y(this,"toggleInfiniteScrollOptIn",()=>{let{infiniteScrollSetting:e}=this.state;(0,R.zG)(e,_.match({OptInRequired:e=>{let{optedIn:t}=e,l=_.mk.OptInRequired({optedIn:(0,N.ff)(t)});this.setState({infiniteScrollSetting:l})},[Z._]:R.Q1}))}),y(this,"fetchDataAndBuildActions",(0,s.Z)(e=>(0,R.ls)(e,P.UI((0,R.ls)(f.Yq,p.N.traverseArray(p.We),e=>{let[t,l]=e;return[(0,a.VA)(l),a.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoSlugs:(0,R.zG)(t,O.UID(e=>e.slug))})]}))))),y(this,"createPhotoFeedIdContextValue",(0,s.Z)(e=>C.G(e)))}}let F=(0,I.O)()(()=>{let e=(0,g.XT)(),t=(0,g.u0)();return(l,n)=>({photoFeedOption:e(l,n.feedId),photosOption:t(l,n.feedId)})}),T=(0,R.zG)(z,(0,r.$j)(F),E,e=>(0,o.b9)(e,G))}}]);