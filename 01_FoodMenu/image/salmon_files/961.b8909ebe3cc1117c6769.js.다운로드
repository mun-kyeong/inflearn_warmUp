"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[961],{3526:(e,a,r)=>{r.d(a,{D_:()=>g,G_:()=>P,W:()=>y,gz:()=>x,wk:()=>F});var t=r(58212),d=r(9455),n=r(44611),s=r(33426),l=r(20448),o=r(91399),c=r(19457),i=r(17306),h=r(74525),p=r(95889),I=r(75227),m=r(44825),u=r(12373),z=r(85922),U=r(30352),T=r(46953),k=r(27410),S=r(90211),G=r(72959),b=r(48213);let f=l.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),y=(()=>{switch(d.Oz){case"development":return l.D.matchX({HomepageHeader:(0,b.a9)(307171),SayThanksCardMobile:(0,b.a9)(237077),SayThanksCardTabletUp:(0,b.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[S._]:237186}),ExploreInFeed:s.U3({Phone:257456,[S._]:247889}),SearchInFeed:s.U3({Phone:257455,[S._]:241347})});case"production":return l.D.matchX({HomepageHeader:(0,b.a9)(307172),SayThanksCardMobile:(0,b.a9)(219423),SayThanksCardTabletUp:(0,b.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[S._]:237209}),ExploreInFeed:s.U3({Phone:257454,[S._]:247890}),SearchInFeed:s.U3({Phone:257452,[S._]:241348})})}})(),_=e=>{let{adType:a,count:r,zoneId:t}=e;return{divName:f(a),zoneIds:u.of(t),count:r,networkId:d.HM,siteId:d.Tf,adTypes:u.of(5),properties:{}}},v=e=>(0,b.zG)(p.of(n.q9),p.ap((0,b.zG)(e,_,u.of,p.of)),p.ap(p.tD(t.T))),x=e=>{let{adType:a,count:r,zoneId:t}=e;return(0,b.zG)(v({adType:a,count:r,zoneId:t}),z.tD,z.tS(e=>z.x0(n.HM)(d.sQ,{method:"POST",headers:{[c.JU]:o.zc.JSON},body:n.D6.encode(e)})),U.QN,U.UI(e=>(0,b.zG)(e.decisions,h.P5(f(a)),T.tS(T.ij),T.UI(u.UI(e=>l.Ad.fromKevelAd({ad:u.YM(e.contents),decision:e}))))))},D=e=>i.tSV(a=>(0,b.zG)(a,i.t94(n.Sy)(e),G.EQ({True:I.Vo(()=>(0,b.zG)(a,i.d1t(a=>n.Sy.equals(a,e)))),False:(0,b.a9)([])}))),F=(e,a)=>u.hX((0,b.ls)(e=>D(e.metadata.advertiserId)(a),i.EQD(b.W8,(0,b.ls)(i.Gax(a=>(0,b.zG)(e,m.fP(n.Sy)(a))),G.ff)))),g=k.UI(T.tS(e=>(0,b.zG)(e.template,n.YS.match({"in-feed":a=>T.G(l.Ad.mkInFeedAd({...e,template:a})),[S._]:(0,b.a9)(T.YP)})))),w=n.YS.matchX({"kitchen-sink":!0,[S._]:!1}),C=n.YS.matchX({"in-feed":!0,[S._]:!1}),P=l.D.matchX({SayThanksCardMobile:w,SayThanksCardTabletUp:w,TopicsInFeed:C,HomepageHeader:(0,b.a9)(!0),ExploreInFeed:C,SearchInFeed:C})},75063:(e,a,r)=>{r.d(a,{W2:()=>A,Yo:()=>P,DU:()=>C});var t=r(52322),d=r(70769),n=r(75654),s=r(39277),l=r(17643),o=r(9455),c=r(74581),i=r(20933),h=r(45940),p=r(85221),I=r(84177),m=r(44611),u=r(9424);let z=(0,r(60985).P1)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var U=r(33426),T=r(20448),k=r(18530),S=r(17306),G=r(95889),b=r(85922),f=r(5914),y=r(46953),_=r(27410),v=r(90211),x=r(48213),D=r(52224),F=r(80134),g=r(3526);let w=(()=>{switch(o.Oz){case"development":return[[m.zi(2260292),m.zi(2260293)]];case"production":return[[m.zi(2262847),m.zi(1890533)]]}})(),C=e=>{let{adType:a,count:r}=e,t=(0,I.v)(z),n=(0,d.m)(e=>(0,x.zG)(e,F.UI(e=>{let[a]=e;return a})),[t]),s=(0,u.Fy)();return(0,d.m)(e=>{let a=(0,x.zG)(e,F.UI(e=>e[0]),F.xb(T.D.Eq.equals)),t=(0,x.zG)(e,F.UI(e=>e[1]),F.xb(y.Eh(U.Eq).equals)),d=(0,x.zG)(f.gz((0,x.zG)(a,f.u5),t),f.UI(e=>{let[a,r]=e;return(0,g.W)(a)(r)}),F.xb(y.Eh(D.Eq).equals));return(0,x.zG)(f.gz((0,x.zG)(a,f.u5),d),F.Mm(n),F.UI(e=>{let[a,r]=e;return(0,x.zG)(a,y.UI(e=>{let[a,t]=e;return(0,x.bc)(a,t,r)}))}),f.pd(e=>{let[a,t,d]=e;return(0,x.zG)(F.PQ(()=>(0,g.gz)({adType:a,count:3*r,zoneId:t})),F.bw((0,x.ls)(_.eL((0,x.a9)(G.Xc),b.JQ.match({CodecErrors:(0,x.ls)(S.Ce7(`
Kevel response failed decoding for adType: "${T.D.Show.show(a)}"`),c.$b,G.Ep),[v._]:(0,x.a9)(G.Xc)}),e=>{let r=(0,x.zG)(e,y.Tw([]),S.UID(e=>e.template),S.d1t((0,g.G_)(a)));return S.OdA(r)?(0,c.Kw)({error:`Kevel response has invalid templates (${(0,x.zG)(r,S.UID(m.gA),S.v_p(", "))}) for ad type: "${T.D.Show.show(a)}"`}):G.Xc}),G.ht)),F.UI(_.UI(y.tS((0,g.wk)(d,w)))))}),F.UI(y.pF(()=>_.nn)))},[a,s])},P=e=>{let{adType:a,count:r,children:t}=e;return t((0,p.s)(C({adType:a,count:r})))},E=e=>{let{metadata:a}=e;return(0,t.jsxs)(k.PRT,{children:[(0,t.jsx)(l._,{url:a.impressionUrl}),(0,x.zG)(a.impressionTrackers,y.WA(S.Sud((e,a)=>(0,t.jsx)(l._,{url:a},e))))]})},A=e=>{let{children:a,metadata:r,adType:d}=e,l=(0,i.I)();return(0,h.b)(()=>{l(n.aU.mk.DirectAdImpression({metadata:r,adType:d}))}),(0,t.jsxs)(k.PRT,{children:[a,(0,t.jsx)(s.Z,{children:(0,t.jsx)(E,{metadata:r})})]})}},99356:(e,a,r)=>{r.d(a,{$:()=>c});var t=r(52322),d=r(75654),n=r(13328),s=r(20933),l=r(18530),o=r(1123);let c=e=>{let{metadata:a,adType:r,...c}=e,i=(0,s.I)(),h=l.I47(()=>{i(d.aU.mk.Track(o.mk.DirectAdClick({metadata:a,adType:r})))},[a,r,i]);return(0,t.jsx)(n.r,{onClick:h,href:a.clickUrl,...c})}},85221:(e,a,r)=>{r.d(a,{s:()=>n});var t=r(93096),d=r(27410);let n=e=>(0,t.p)(e,d.nn)},61185:(e,a,r)=>{r.d(a,{$:()=>o});var t=r(33402),d=r(41615),n=r(95889),s=r(46953);let l=(0,r(48213).zG)(d.V4,n.ht,s.Gg(e=>"force_direct_ads"in e)),o=()=>(0,t.US)()&&l}}]);